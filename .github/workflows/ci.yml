name: CI

on:
  push:
    branches: [ main, 001-weekly-progress-report ]
  pull_request:
    branches: [ main ]

jobs:
  lint-and-test:
    runs-on: ubuntu-latest
    
    steps:
    - uses: actions/checkout@v4
    
    - name: Setup Node.js
      uses: actions/setup-node@v4
      with:
        node-version: '18'
        
    - name: Install backend dependencies
      working-directory: ./src/server
      run: npm install
      
    - name: Lint backend
      working-directory: ./src/server
      run: npx eslint .
      
    - name: Test backend
      working-directory: ./src/server
      run: npm test
      
    - name: Install frontend dependencies
      working-directory: ./src/web
      run: npm install
      
    - name: Lint frontend
      working-directory: ./src/web
      run: npx eslint src/
      
    - name: Build frontend
      working-directory: ./src/web
      run: npm run build

feat: implement MVP - submit updates + dashboard (48/86 tasks)

- Phase 1: Project setup with linting, CI, README
- Phase 2: SQLite DB, Express server, auth/RBAC, models, Vite config
- Phase 3: Update submission (POST/GET/PUT endpoints, form, timeline)
- Phase 4: Dashboard with filters (projects grid, status badges, blockers)
- Test infrastructure: Jest (unit) + Playwright (e2e), test-first approach

MVP delivers P1 user stories:
✓ US1: Project members submit weekly updates
✓ US2: Users view dashboard with team/status filters

Pending: US3 Reminders (P2), US4 Export (P3), Polish phase
